language: python
python:
- '2.7'
- '3.6'
install:
- pip install -e .[test]
- pip install -e .
script: py.test --cov=. --cov-report term-missing
notifications:
  email: false
env:
  global:
  - CI=true
  - secure: 2vxCnIv7yBnAXD+cec9pn6S0aDHV1AVu+f9GR+fTIDTtvPJXGiHRD2GXbU71v3Ci5dViBBDLjeTBTgEMNf8Ig9OMdd9mVRHFSFvSl4hYVB++5l1DZJf+hT5EPnTBk7swCj0JrmoF1gPosHJRxsY3DNALtdNvmZpDSpqUnyeP6U4gAZamHSOND8alKPLsmC2VL3yjyoseOGf++YqJmZTBo2kc1BtwH9bOramk3Wy56b+82zauRRYYbwzOYC9ShPakmslUaZ9ll2ik/24iLaHSltDacqFpVwhyT25zggrWPfvfsaseWzEDnSJ6ae3wsiRO0leQqQj48oRyWpXRAUQ6B+nVeMic5ULF9MNkhnywSRttlZfeoB7bZDNkVWZwXtWh0ycdODT1/uEuVbHxpPlu1fVZkcqGKMccysG36QK33BzsAFONiqEbUPBiiyZznwsOarjZuU4llW2I7fZ5QcC17rAYTRRcrMrusBvTCzuQtAMY9NokFJj9uYMTkNehr4y6r3iqGPlg9Cx2Ruw3GvEk79YxfuSH96ELZKbgjYn2lyQRbDckjFZCGt7QEdr1TT/LkFVQe1YRjVMh5lcda/Q7uBE3wqFzko/NTc//TJh574oExKHA/soJBqQ4JHFTbFDfXDVO6GF9H1J/Tx39ErBUVVKY1iIE2K7flUUDTidLHcg=
  - secure: njju1yC0AGBxLXmstsszauviVXXOQQZ/7iFL3rFtd3y1EMn0c9R0d1qZx+rArN3gRnzuo0DPfw7ShH6gVBy0ux7vTv5yzM4Z/HUqcIPx4bB8Lg8wmBhKJIH4D3jxx1rTRKejho1ZV12+J+/Pb0eUP0++XoI5xRHNV/iMWMm34tYR4Q1psIZ0TC1x96zKwFhCXAwZz2OprtseM/HhPlH4QaRJs13QtKBbqiuoXm/cZLdoqaTsjoujEITjgDl7VrHk+mAWqw0FnHORUwMd0C//h5jTsQdwa1JaaUalhcS35+wMA8SoswMDKlREE3CqfO56RmA8Obq5XwBT6M4bjikaAp3Qup8rIurZ9QX6rJUWQkYS2y8A4i5PW/FGWp7radac9283/K787zxumXBK6FRk2YMDWMjosVZgqRimCqbtXzkjxLgR+VeNSZzmYFxHEEmixOsZ1RFwz7v1Zu4g5Q5u9A1WVqpXeGznCuehe7idWKujFTo1j38obNOAtS/1mu2PiqHwW4WEjVJd3+VFM+6ot2esYAmZoX16GgZMWSQulErI9d7kIcft65kbWyrp3eJTY0LhJT80L4jnTvyAxKStGH+BzNoy4eLniPXfoYypWjRnwwKc0lUAb2zCZaAitncMuIbs8XIxpy3EUNXVZQYgzz6u9VioYXPA52hXCDoyGns=
  - secure: cT18YKtiQINnJ7ULcY4JjKnKkcjhna7IeOjlXcY6A5hrAE+kzygt2DhacH7C4PxmMLDUBojqUu1jkjwHogEq8GkNdIkdvTq0kmxVuvYX7QPVITmoEeMC9nurAqzhM7pu3DfNEM04oWcPFrCvT5LaNLwhJqbwI2eidlkBCcOjKaGvIl2gRMS3hglA8Ntb63mTQv7YYkEZPLHvQ5wh1QPtavyTcYeu4QmytzLcXxTexkUD3GH8D6B6BWMW/URvcr954HlPRH2KGosXfY8oXflnyVnsDgsLubRiAsUL6Ni2Q/g5qNZC+UXdS9Ga1r/7afVPT2JyR7xAGsH1qFhrj1vpfFrjdELBWMBaGODcOhR5wCqU4ymYxz88Vvc3aGWwNMaG1PLdEunl3XU0kOWG9xFjMG6u7ugpCV1iCuRoSd9qdkFer9QlR6PTfpfdDISuUlo96umOe8I8Wd969x/Ls/M6PuewQbBRuYpbMkcbifRSi1k4jN0JtFn7UQkC1uK8fOs4DBtDiJRWuSepubR/GgJW9HAtH4Ijo1dFqpwvFlftwSyuE3lDVbwGqT9dvxcNH/qmKHlwSuYQzPkSFzszk24iZGIFGRx9Kg2JqcU9itbFg6UZw3fmMlo+3bYLxhoVb1tgwOTta+NVlkAwL+gLqVQv3vh6g3GMY7zqOPk5iGxq22I=
  - secure: oa8WmjlDcySXrLUI2MxhlfSmYhiOE52w+N5dRdg9iBPpcw37k1XYJAZ8qeUB14etqsa9MmwpbniR43eIRBmDjvdQYHWfKVVDgpYaqQG4uxl3i0oIKx4uFtz+KCNoC+pRiGw5h1+hJ63Cj/Uz//+b8Vgwl8jqPE1sjGH6SioTNXFb0hxWEU0jwS8IRCamikLoZMGZ3hqNyNUyWD4rvrdD3M+Xk5r9c5VjY8ywEtVM6o3tMzmG3HtTkWMhTNojMLH9CP5DB7HEiU+ACjokvGMyqkD0mWHdAWJpi4DZIXodF9P35QBxQSP9H/7K0KTZhNO4L7swtGW9c2QlUMScY3l9iqg+dUpqilhvfItrGiMKPl4LG+kkBl6FbZKiFxEVFDWP4n8Q7ItcmrmmVlcMQrcBzqUruEfESHQAp+AFCwn1cJ4N4nFZtI4d5prxhxq1HPfURJHx8drsDRKL6RGLnyHoIeHlAMwQhTj6+e8ogf4ACOucPfBOrqdzPo7ScAZ6smbgaATAP8C5lL+bEl0FK0SqOnk0IKyj2lpNoYldluC3j6OGwYF4vG8Hj6wt8UjD1xIz0sMKY8FGLQtB/QQSRdLgruit+FXbGTWFuzapGfKAjOKHVTkiMVkMTEB9N/ULZTvrh+jI12zVB8tlvq1ltAMJZ6ulowhkgGXaz74WM4cGCFY=
  matrix:
  - TEST_DOC=false
  - TEST_DOC=true
